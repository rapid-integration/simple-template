[tool.mypy]
files = [
    "src",
    "tests",
]
strict = true

[tool.ruff]
indent-width = 4
line-length = 120

[tool.ruff.lint]
select = [
    "E",
    "F",
    "I",
]

[tool.ruff.format]
indent-style = "space"
line-ending = "lf"
quote-style = "double"

[tool.alembic]
script_location = "./src/db/migrations"
prepend_sys_path = "."
version_path_separator = "os"

[tool.post_write_hooks]
hooks = ["check", "format"]

[tool.post_write_hooks.check]
type = "exec"
executable = "%(here)s/.venv/bin/ruff"
options = "check --fix REVISION_SCRIPT_FILENAME"

[tool.post_write_hooks.format]
type = "exec"
executable = "%(here)s/.venv/bin/ruff"
options = "format REVISION_SCRIPT_FILENAME"

